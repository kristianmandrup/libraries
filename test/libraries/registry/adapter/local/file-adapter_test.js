// Generated by LiveScript 1.2.0
(function(){
  var expect, Adapter, Installer, log;
  expect = require('chai').expect;
  Adapter = require('../../../../../lib/registry/adapter/local/file-adapter');
  Installer = require('../../../../../lib/registry/config/installer');
  log = console.log;
  describe('FileAdapter', function(){
    var adapter;
    describe('create', function(){
      context('invalid', function(){
        specify('number throws', function(){
          return expect(function(){
            return new Adapter(7);
          }).to['throw'];
        });
        return specify('string throws', function(){
          return expect(function(){
            return new Adapter('./xlibs/config.json');
          }).throws;
        });
      });
      return context('valid', function(){
        specify('no args ok', function(){
          return expect(function(){
            return new Adapter;
          }).to['throw'];
        });
        return specify('empty obj ok', function(){
          return expect(function(){
            return new Adapter({});
          }).to.not['throw'];
        });
      });
    });
    return describe('valid instance', function(){
      before(function(){
        return adapter = new Adapter;
      });
      describe('registry-uri', function(){
        return specify('is path', function(){
          return expect(adapter.registryUri).to.eql("./xlibs/registry");
        });
      });
      describe('local-registry-path', function(){
        return specify('is path', function(){
          return expect(adapter.localRegistryPath).to.eql('./xlibs/components');
        });
      });
      describe('installer', function(){
        return specify('is path', function(){
          return expect(adapter.installer()).to.be.an.instanceOf(Installer);
        });
      });
      describe('index-file', function(){
        return specify('is path', function(){
          return expect(adapter.indexFile()).to.eql("./xlibs/registry/index.json");
        });
      });
      describe('index', function(){
        return specify('is json', function(){
          return expect(adapter.index().registry).to.include("bootstrap");
        });
      });
      describe('has', function(){
        specify('boostrap = true', function(){
          return expect(adapter.has("bootstrap")).to.be['true'];
        });
        return specify('mak = false', function(){
          return expect(adapter.has("mak")).to.be['false'];
        });
      });
      describe('config-file(name)', function(){
        return specify('is path', function(){
          return expect(adapter.configFile('bootstrap')).to.eql("./xlibs/registry/bootstrap.json");
        });
      });
      return describe('target-config(name)', function(){
        return specify('is path', function(){
          return expect(adapter.targetConfig('bootstrap')).to.eql("./xlibs/components/bootstrap.json");
        });
      });
    });
  });
}).call(this);
