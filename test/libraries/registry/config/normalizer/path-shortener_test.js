// Generated by LiveScript 1.2.0
(function(){
  var expect, PathShortener, log;
  expect = require('chai').expect;
  PathShortener = require('../../../../../lib/registry/config/normalizer/path-shortener');
  log = console.log;
  describe('PathShortener', function(){
    var config;
    config = {};
    config.simple = {
      dir: 'dist/js',
      main: {
        files: ['dist/js/bootstrap.js']
      },
      scripts: {
        dir: 'dist/js',
        files: ['bootstrap.js']
      }
    };
    describe('create(config)', function(){});
    return context('instance', function(){
      var shortener;
      beforeEach(function(){
        return shortener = new PathShortener(config.simple.scripts);
      });
      describe('shorten-file-paths', function(){
        return specify('shortens all file paths', function(){
          return expect(shortener.shortenFilePaths().files).to.include('bootstrap.js');
        });
      });
      describe('shorten-dir', function(){
        return specify('shortens dir path', function(){
          return expect(shortener.shortenDir('dist').dir).to.eql('js');
        });
      });
      return describe('shorten-path(file)', function(){
        context('with non-matching root dir', function(){
          return specify('can not shorten path of file', function(){
            return expect(shortener.shortenPath('dist/js/bootstrap.js')).to.eql('dist/js/bootstrap.js');
          });
        });
        return context('with matching root dir', function(){
          beforeEach(function(){
            return shortener.config.dir = 'dist/js';
          });
          return specify('shortens path of file', function(){
            return expect(shortener.shortenPath('dist/js/bootstrap.js')).to.eql('bootstrap.js');
          });
        });
      });
    });
  });
}).call(this);
