// Generated by LiveScript 1.2.0
(function(){
  var chai, expect, chaiAsPromised, util, Adaptor, log, logx;
  chai = require('chai');
  expect = chai.expect;
  chaiAsPromised = require("chai-as-promised");
  chai.use(chaiAsPromised);
  util = require('util');
  Adaptor = require('../../../../../lib/registry/config/package/component/remote-component');
  log = console.log;
  logx = function(msg){
    return console.log(util.inspect(msg));
  };
  describe('ComponentAdapter', function(){
    describe('create(@name, @options = {})', function(){
      describe('invalid', function(){
        return specify('throws', function(){
          return expect(function(){
            return new Adaptor.to['throw'];
          });
        });
      });
      return describe('valid', function(){
        return specify('string arg - ok', function(){
          return expect(function(){
            return new Adaptor('x').to.not['throw'];
          });
        });
      });
    });
    return context('instance', function(){
      var adaptor;
      beforeEach(function(){
        return adaptor = new Adaptor('datastore');
      });
      describe('find', function(){
        this.timeout(12000);
        return specify('find component packages', function(){
          return adaptor.find().promise.then(function(pkgs){
            return expect(pkgs.length).to.eql(1);
          });
        });
      });
      return describe('retrieve', function(){
        this.timeout(4000);
        return specify('configure using first pkg', function(){
          return adaptor.retrieve().then(function(){
            expect(adaptor.adapted.main.files).to.eql('index.js');
            return expect(adaptor.adapted.scripts.files).to.eql(['index.js']);
          });
        });
      });
    });
  });
}).call(this);
