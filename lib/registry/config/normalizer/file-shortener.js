// Generated by LiveScript 1.2.0
(function(){
  var FileShortener, toString$ = {}.toString;
  module.exports = FileShortener = (function(){
    FileShortener.displayName = 'FileShortener';
    var prototype = FileShortener.prototype, constructor = FileShortener;
    function FileShortener(config){
      this.config = config;
    }
    prototype.shortenFiles = function(){
      var shortFiles, i$, ref$, len$, file;
      shortFiles = [];
      if (toString$.call(this.config.files).slice(8, -1) !== 'Array') {
        return;
      }
      for (i$ = 0, len$ = (ref$ = this.config.files).length; i$ < len$; ++i$) {
        file = ref$[i$];
        shortFiles.push(this.shortenPath(file));
      }
      this.config.files = shortFiles;
      return this.config;
    };
    prototype.shortenPath = function(file){
      var root, matches;
      root = this.config.dir || '';
      matches = file.match(new RegExp("^(" + root + "/?)"));
      if (matches) {
        file = file.slice(matches[1].length);
      }
      return file;
    };
    return FileShortener;
  }());
}).call(this);
