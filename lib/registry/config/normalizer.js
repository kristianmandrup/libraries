// Generated by LiveScript 1.2.0
(function(){
  var LocalBowerAdapter, RemoteBowerAdapter, RemoteComponentAdapter, LocalComponentAdapter, FilesNormalizer, Normalizer, toString$ = {}.toString;
  LocalBowerAdapter = require('./package/bower/local-bower');
  RemoteBowerAdapter = require('./package/bower/remote-bower');
  RemoteComponentAdapter = require('./package/component/remote-component');
  LocalComponentAdapter = require('./package/component/local-component');
  FilesNormalizer = require('./normalizer/files-normalizer');
  module.exports = Normalizer = (function(){
    Normalizer.displayName = 'Normalizer';
    var prototype = Normalizer.prototype, constructor = Normalizer;
    function Normalizer(config, options){
      this.config = config;
      this.options = options != null
        ? options
        : {};
      this.type = this.options.type || 'bower';
      this.from = this.options.from || 'local';
      this.validate();
    }
    prototype.validate = function(){
      if (toString$.call(this.config).slice(8, -1) !== 'Object') {
        throw new Error("Config to normalize must be an Object, was: " + this.config);
      }
    };
    prototype.normalize = function(){
      return this.filesNormalizer().normalize();
    };
    prototype.filesNormalizer = function(){
      return new FilesNormalizer(this.config);
    };
    prototype.adapter = function(name){
      var clazz;
      clazz = this.adapterClazz();
      return new clazz(name);
    };
    prototype.adapterClazz = function(){
      return this.adapters[this.from][this.type] || this.badAdapter();
    };
    prototype.badAdapter = function(){
      return this.error("Adapter " + this.from + " for " + this.type + " has not been registered");
    };
    prototype.error = function(msg){
      return console.error(msg);
    };
    prototype.adapters = {
      local: {
        bower: LocalBowerAdapter,
        component: LocalComponentAdapter
      },
      remote: {
        bower: RemoteBowerAdapter,
        component: RemoteComponentAdapter
      }
    };
    return Normalizer;
  }());
}).call(this);
