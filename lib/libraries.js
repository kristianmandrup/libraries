// Generated by LiveScript 1.2.0
(function(){
  var Selector, Configurator, Registry, Generator;
  Selector = require('./select/selector');
  Configurator = require('./config/configurator');
  Registry = require('./registry/registry');
  Generator = require('./output/generator');
  module.exports = {
    select: function(opts){
      opts == null && (opts = {});
      return this._selector || (this._selector = new Selector(opts) || this.options);
    },
    config: function(opts){
      opts == null && (opts = {});
      return this._config || (this._config = new Configurator(opts) || this.options);
    },
    registry: function(opts){
      opts == null && (opts = {});
      return new Registry(opts || this.options);
    },
    generator: function(opts){
      opts == null && (opts = {});
      return this._generator || (this._generator = new Generator(opts) || this.options);
    },
    success: function(){
      return console.log(chalk.green('success ;>)'));
    },
    install: function(opts){
      console.log('installing...');
      this.select(opts).install();
      return this.success();
    },
    uninstall: function(name, opts){
      this.registry(opts).uninstall(name);
      return this.success();
    },
    loadApplier: function(opts){
      return this.generator(opts).load();
    },
    build: function(opts){
      var cb, build;
      console.log('building...', this.config);
      this.install(opts);
      if (opts) {
        cb = opts.cb;
      }
      build = this.select(opts).build(cb);
      this.generator(opts).generate(build);
      return this.success();
    }
  };
}).call(this);
