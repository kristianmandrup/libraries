// Generated by LiveScript 1.2.0
/**
 * User: kristianmandrup
 * Date: 06/10/14
 * Time: 14:40
 */
(function(){
  var Lib, util, Libs, toString$ = {}.toString;
  Lib = require('./lib');
  util = require('util');
  module.exports = Libs = (function(){
    Libs.displayName = 'Libs';
    var prototype = Libs.prototype, constructor = Libs;
    function Libs(libs){
      this.libs = libs;
      this.validate();
      this;
    }
    prototype.validate = function(){
      if (toString$.call(this.libs).slice(8, -1) !== 'Object') {
        throw new Error("Must be an Object");
      }
    };
    prototype.build = function(cb){
      this.building();
      return Object.keys(this.libs).map(function(name){
        return this.output(key, cb);
      });
    };
    prototype.building = function(){
      return console.log(" - all libs");
    };
    prototype.add = function(name, lib){
      var key;
      if (toString$.call(name).slice(8, -1) === 'Object' && Object.keys(name).length === 1) {
        key = Object.keys(name)[0];
        lib = name[key];
        return this.add(key, lib);
      }
      this.libs[name] = this.validatedLib(name, lib);
      return this;
    };
    prototype.validatedLib = function(name, lib){
      switch (toString$.call(lib).slice(8, -1)) {
      case 'String':
        return new Lib(name, lib);
      case 'Object':
        return Lib.fromObject(name, lib);
      default:
        throw new Error("lib must be a String or Object, was: " + typeof lib);
      }
    };
    prototype.remove = function(name){
      if (this.libs[name]) {
        delete this.libs[name];
      }
      return this;
    };
    prototype.location = function(name){
      return libs[name].location;
    };
    prototype.output = function(name, cb){
      return libs[name].output(cb);
    };
    return Libs;
  }());
}).call(this);
